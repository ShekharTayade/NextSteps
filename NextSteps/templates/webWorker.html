<!DOCTYPE html>
<html lang="en">

<head>
            <script src="doWork2.js">
                
            </script>
</head>

<body>
        <div class="container">
	
            <button onclick="sayHI()">Say HI</button>
            <button onclick="unknownCmd()">Send unknown command</button>
            <button onclick="stop()">Stop worker</button>
            <output id="result"></output>
        </div>
         
            
            <script>
            var worker = new Worker('doWork2.js');
              worker.addEventListener('message', function(e) {
                document.getElementById('result').textContent = e.data;
              }, false);



              function sayHI() {
                worker.postMessage({'cmd': 'start', 'msg': 'Hi'});
              }
            
              function stop() {
                // worker.terminate() from this script would also stop the worker.
                worker.postMessage({'cmd': 'stop', 'msg': 'Bye'});
              }
            
              function unknownCmd() {
                worker.postMessage({'cmd': 'foobard', 'msg': '???'});
              }
            

              function onError(e) {
                document.getElementById('error').textContent = [
                  'ERROR: Line ', e.lineno, ' in ', e.filename, ': ', e.message].join('');
              }
            
              function onMsg(e) {
                document.getElementById('result2').textContent = e.data;
              }
                
            
            </script>

</body>
</html>
